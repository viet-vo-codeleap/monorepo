name: RW - Determine Changes

on:
  workflow_call:
    outputs:
      frontend_changed:
        description: 'True if frontend files changed'
        value: ${{ jobs.detect.outputs.frontend_changed }}
      backend_changed:
        description: 'True if backend files changed'
        value: ${{ jobs.detect.outputs.backend_changed }}

jobs:
  detect:
    runs-on: ubuntu-latest
    outputs:
      frontend_changed: ${{ steps.filter.outputs.frontend }}
      backend_changed: ${{ steps.filter.outputs.backend }}
    steps:
      - uses: actions/checkout@v4
      - id: filter
        uses: dorny/paths-filter@v3
        with:
          filters: |
            frontend:
              - 'frontend/**'
            backend:
              - 'backend/**'